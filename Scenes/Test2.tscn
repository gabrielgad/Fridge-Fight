[gd_scene load_steps=22 format=3 uid="uid://cncaxh1b5nsmr"]

[ext_resource type="Texture2D" uid="uid://csdspme2cwqkt" path="res://Floor/CeramicPlainWhite001_REFL_4K.jpg" id="1_m5dwn"]
[ext_resource type="PackedScene" uid="uid://du6nqt4am4i6h" path="res://Characters/Characters/gltf/Rogue_Hooded.glb" id="3_b26i1"]
[ext_resource type="PackedScene" uid="uid://dnmtktj6ewg0n" path="res://Rock and Tree Assets/Rocks/BigRock1.fbx" id="3_ight5"]
[ext_resource type="PackedScene" uid="uid://dsgruslg76ha2" path="res://Rock and Tree Assets/Rocks/Rock4.fbx" id="4_cnh6w"]
[ext_resource type="PackedScene" uid="uid://cmclm80mmgsvm" path="res://Rock and Tree Assets/Rocks/Rock2.fbx" id="5_ueone"]
[ext_resource type="PackedScene" uid="uid://bslswyy76hykh" path="res://Rock and Tree Assets/Rocks/Rock_12.fbx" id="6_fey5r"]
[ext_resource type="PackedScene" uid="uid://c6clcs5k5iqn8" path="res://Rock and Tree Assets/Trees/SpruceTree2.fbx" id="7_ulsp1"]
[ext_resource type="PackedScene" uid="uid://dhsayw4v746cr" path="res://Rock and Tree Assets/Trees/SpruceTree3.fbx" id="8_n7my7"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_pbblo"]

[sub_resource type="Sky" id="Sky_wt84e"]
sky_material = SubResource("ProceduralSkyMaterial_pbblo")

[sub_resource type="Environment" id="Environment_3htvr"]
background_mode = 2
sky = SubResource("Sky_wt84e")
tonemap_mode = 3

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_2wak7"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_sk2t6"]
albedo_texture = ExtResource("1_m5dwn")

[sub_resource type="SphereShape3D" id="SphereShape3D_dvgfk"]
radius = 7.73121

[sub_resource type="SphereShape3D" id="SphereShape3D_l565b"]
radius = 0.96742

[sub_resource type="SphereShape3D" id="SphereShape3D_uqy4x"]
radius = 1.1751

[sub_resource type="SphereShape3D" id="SphereShape3D_8wmvc"]
radius = 1.98775

[sub_resource type="CylinderShape3D" id="CylinderShape3D_mbxej"]
height = 2.71527
radius = 1.29553

[sub_resource type="CylinderShape3D" id="CylinderShape3D_c1fs6"]
height = 3.4182
radius = 2.79657

[sub_resource type="GDScript" id="GDScript_jseor"]
script/source = "extends CharacterBody3D


const SPEED = 5.0
const JUMP_VELOCITY = 4.5

# Get the gravity from the project settings to be synced with RigidBody nodes.
var gravity = ProjectSettings.get_setting(\"physics/3d/default_gravity\")


func _physics_process(delta):
	# Add the gravity.
	if not is_on_floor():
		velocity.y -= gravity * delta

	# Handle Jump.
	if Input.is_action_just_pressed(\"Jump\") and is_on_floor():
		velocity.y = JUMP_VELOCITY

	# Get the input direction and handle the movement/deceleration.
	# As good practice, you should replace UI actions with custom gameplay actions.
	var input_dir = Input.get_vector(\"Left\", \"Right\", \"Forward\", \"Back\")
	var direction = (transform.basis * Vector3(input_dir.x, 0, input_dir.y)).normalized()
	if direction:
		velocity.x = direction.x * SPEED
		velocity.z = direction.z * SPEED
	else:
		velocity.x = move_toward(velocity.x, 0, SPEED)
		velocity.z = move_toward(velocity.z, 0, SPEED)

	move_and_slide()
"

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ymw56"]

[node name="World" type="Node3D"]

[node name="Map" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Map"]
environment = SubResource("Environment_3htvr")
camera_attributes = SubResource("CameraAttributesPractical_2wak7")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 0.6396, 0.768708, 0, -0.768708, 0.6396, 0, 0, -2.43274)
shadow_enabled = true

[node name="CSGBox3D" type="CSGBox3D" parent="Map"]
material_override = SubResource("StandardMaterial3D_sk2t6")
use_collision = true
size = Vector3(100, 0.002, 100)

[node name="BigRock1" parent="Map" instance=ExtResource("3_ight5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.83795, 2.13208, 15.3779)

[node name="StaticBody3D" type="StaticBody3D" parent="Map/BigRock1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/BigRock1/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.239, 1.04439, -32.6009)
shape = SubResource("SphereShape3D_dvgfk")

[node name="Rock4" parent="Map" instance=ExtResource("4_cnh6w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.1813, 0.000999451, -34.9918)

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Rock4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Rock4/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.67755, 0.104426, 16.8063)
shape = SubResource("SphereShape3D_l565b")

[node name="Rock2" parent="Map" instance=ExtResource("5_ueone")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.5246, 0.00100136, -29.9176)

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Rock2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Rock2/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.79662, 0.179806, 16.615)
shape = SubResource("SphereShape3D_uqy4x")

[node name="Rock_12" parent="Map" instance=ExtResource("6_fey5r")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30.9235, 0.000999451, 12.9617)

[node name="StaticBody3D" type="StaticBody3D" parent="Map/Rock_12"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Rock_12/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.30382, -0.073514, 0)
shape = SubResource("SphereShape3D_8wmvc")

[node name="SpruceTree2" parent="Map" instance=ExtResource("7_ulsp1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.2182, 0.000995636, 16.6669)

[node name="StaticBody3D" type="StaticBody3D" parent="Map/SpruceTree2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/SpruceTree2/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0928354, 1.36672, -10.2547)
shape = SubResource("CylinderShape3D_mbxej")

[node name="SpruceTree3" parent="Map" instance=ExtResource("8_n7my7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.9224, 0.000997543, 8.80809)

[node name="StaticBody3D" type="StaticBody3D" parent="Map/SpruceTree3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/SpruceTree3/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.0698, 1.76146, -10.4684)
shape = SubResource("CylinderShape3D_c1fs6")

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.310485)
script = SubResource("GDScript_jseor")

[node name="Rogue_Hooded" parent="Player" instance=ExtResource("3_b26i1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0473658, 0, 0.329727)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1.22367, 0, 0, 0, 1.13823, 0, 0, 0, 1.13378, 0, 1.14185, 0.321779)
shape = SubResource("CapsuleShape3D_ymw56")

[node name="Camera3D" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 0.60955, 0.792747, 0, -0.792747, 0.60955, 0, 15, 15)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Player"]
